<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>迭代器模式</title>
</head>

<body>

</body>

</html>
<script>
    //迭代器模式无非就是循环访问聚合对象中的各个元素


    //jQuery中的迭代器
    // $.each( [1, 2, 3], function( i, n ){
    //     console.log( '当前下标为： '+ i );
    //     console.log( '当前值为:' + n );
    // }); 

    // 实现自己的迭代器
    var each = function (arr, callback) {
        for (var i = 0, l = arr.length; i < l; i++) {
            var value = callback.call(arr[i], i, arr[i]);
            if(value === false) {
                break;
            }
        }
    }
    each([1, 2, 3], function (i, n) {
        console.log(i, n);
    })

    //迭代类数组对象和字面量对象
    // 在 JavaScript 中，for in 语句可以用来迭代普通字面量对象的属性。jQuery 中提供了$.each`
    // 函数来封装各种迭代行为：
    $.each = function (obj, callback) {
        var value,
            i = 0,
            length = obj,
            length;
        var isArray = isArrayLike(obj);
        if (isArray) {
            for (; i < length; i++) {
                value = callback.call(obj[i], i, obj[i]);
                if (value === false) {
                    break;
                }
            }
        } else {
            for (i in obj) {
                value = callback.call(obj[i], i, obj[i]);
                if (value === false) {
                    break;
                }
            }
        }

        return obj;
    }

    //倒序迭代器
    var reverseEach = function(obj, callback) {
        for(var l = obj.length; l >=0; l--) {
            callback(l, obj[l]);
        }
    }


    

</script>